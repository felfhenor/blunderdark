{
  "project": "Blunderdark",
  "branchName": "ralph/time-system",
  "description": "Core time system tracking game time in days/hours/minutes with pause/resume, speed controls (1x/2x/4x), and time-based event triggers",
  "userStories": [
    {
      "id": "US-001",
      "title": "Game Time Tracking",
      "description": "As a developer, I want game time tracked as days, hours, and minutes so that the game can display and reference elapsed time",
      "acceptanceCriteria": [
        "A GameClock type extends existing GameStateClock with day, hour, minute fields",
        "Game time starts at Day 1, Hour 0, Minute 0",
        "Each game tick advances time based on a configurable tick-to-time ratio",
        "Time correctly rolls over: 60 minutes = 1 hour, 24 hours = 1 day",
        "Helper functions getGameDay(), getGameHour(), getGameMinute(), getFormattedTime() return computed signals",
        "Unit tests verify time rollover at boundaries",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Pause and Resume",
      "description": "As a player, I want to pause and resume the game so that I can plan without time pressure",
      "acceptanceCriteria": [
        "A pause button is visible in the game UI top bar",
        "Clicking pause stops the game loop using existing gameloopPaused option",
        "Clicking again resumes the game loop",
        "Visual indicator shows current pause state",
        "Keyboard shortcut Space bar toggles pause",
        "Verify in browser using dev-browser skill",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Speed Controls",
      "description": "As a player, I want to change the game speed so that I can fast-forward through slow periods",
      "acceptanceCriteria": [
        "Speed buttons for 1x, 2x, and 4x are displayed next to the pause button",
        "The current speed is visually highlighted",
        "Changing speed takes effect immediately on the next tick",
        "Keyboard shortcuts: 1/2/3 keys set speed to 1x/2x/4x",
        "Verify in browser using dev-browser skill",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Time Display in UI",
      "description": "As a player, I want to see the current game time displayed so I know what day and time it is in-game",
      "acceptanceCriteria": [
        "A time display component shows Day X - HH:MM format in the game UI header",
        "Time updates in real-time as the game runs",
        "Display pauses when game is paused",
        "Component uses OnPush change detection and Angular Signals",
        "Verify in browser using dev-browser skill",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": false,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Time-Based Event Triggers",
      "description": "As a developer, I want to register callbacks that fire at specific game times so that events can be scheduled",
      "acceptanceCriteria": [
        "A function scheduleEvent(triggerTime, callback) registers a time-based trigger",
        "Events fire when game time reaches or passes the specified time",
        "One-shot events fire once and are removed; recurring events can re-register",
        "Events do not fire while the game is paused",
        "Unit tests verify event firing at correct times and not firing when paused",
        "Typecheck passes"
      ],
      "priority": 5,
      "passes": false,
      "notes": ""
    }
  ]
}
