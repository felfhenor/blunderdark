{
  "project": "Blunderdark",
  "branchName": "ralph/biome-system",
  "description": "Biome System - Define 5 biome types plus neutral, assign biomes at floor creation, store and display biome data.",
  "userStories": [
    {
      "id": "US-001",
      "title": "Define biome type data",
      "description": "As a developer, I want biome types defined as game data so that other systems can reference them.",
      "acceptanceCriteria": [
        "Define BiomeType as a union type: 'volcanic' | 'flooded' | 'crystal' | 'corrupted' | 'fungal' | 'neutral'",
        "Define Biome type with: type, name, description, color/theme",
        "Biome data stored in YAML gamedata or TypeScript constants",
        "Each biome has a display name and short description",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "BiomeType union, Biome type, and BIOME_DATA constant in src/app/interfaces/biome.ts with all 6 biomes"
    },
    {
      "id": "US-002",
      "title": "Add biome field to floor data",
      "description": "As a developer, I want biome stored as part of floor data so that it persists and is accessible to other systems.",
      "acceptanceCriteria": [
        "Add biome field to the Floor type",
        "Biome is set at floor creation and persists to IndexedDB",
        "Biome is immutable after floor creation",
        "Default biome for the starting floor is neutral",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Floor type had biome field; added floors[] to GameStateWorld, defaultFloor() with neutral biome"
    },
    {
      "id": "US-003",
      "title": "Implement biome assignment at floor creation",
      "description": "As a player, I want to choose or receive a random biome when creating a new floor.",
      "acceptanceCriteria": [
        "Floor creation UI includes biome selection",
        "Player can choose a specific biome or select Random",
        "Random selection picks from all 5 biome types with equal probability",
        "Neutral is always available as an explicit choice",
        "Selected biome is stored on the floor data",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Biome selection UI in game-setup-world with all 6 biomes + random; setStartingBiome/resolveStartingBiome helpers; defaultFloor accepts biome param"
    },
    {
      "id": "US-004",
      "title": "Implement biome query API",
      "description": "As a developer, I want to query a floor's biome so that restriction and bonus systems can use it.",
      "acceptanceCriteria": [
        "FloorService.getFloorBiome(floorId) method exists",
        "FloorService.currentFloorBiome computed signal exists",
        "Biome data is accessible synchronously (no async loading)",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": "floor.ts helper with getFloorBiome(), currentFloorBiome computed signal, synchronous access via game state"
    },
    {
      "id": "US-005",
      "title": "Display biome information in floor UI",
      "description": "As a player, I want to see the biome of each floor so I can plan my building strategy.",
      "acceptanceCriteria": [
        "Floor selector shows biome icon/name next to each floor",
        "Floor detail panel shows biome description and effects summary",
        "Biome-specific color tinting on the floor selector entry",
        "Component uses OnPush change detection",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 5,
      "passes": false,
      "notes": ""
    }
  ]
}
