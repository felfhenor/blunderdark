<div class="card bg-base-100 shadow-xl">
  <div class="card-body p-4">
    <h3 class="card-title text-sm">Minimap</h3>

    <div class="minimap-stack flex flex-col gap-2">
      @for (floor of minimapFloors(); track floor.index) {
        <button
          class="minimap-floor"
          [class.minimap-floor-active]="isSelected(floor.index)"
          [style.--biome-color]="floor.biomeColor"
          (click)="selectFloor(floor.index)"
        >
          <div class="minimap-label text-xs truncate">{{ floor.name }}</div>
          <div class="minimap-grid" [style.--grid-cols]="gridSize">
            @for (tile of floor.tiles; track tile.x + ',' + tile.y) {
              <div
                class="minimap-tile"
                [class.minimap-tile-hallway]="tile.type === 'hallway'"
                [style.--tile-col]="tile.x + 1"
                [style.--tile-row]="tile.y + 1"
              ></div>
            }
          </div>
        </button>
      }
    </div>
  </div>
</div>
