<div
  class="side-tab-rail flex flex-col bg-base-200 border-r border-base-300"
  [class.has-active-panel]="!!activePanel()"
  [class.rounded-br-lg]="position() === 'top'"
  [class.rounded-tr-lg]="position() === 'bottom'"
>
  @for (tab of visibleTabs(); track tab.id) {
    <button
      class="tab-btn flex items-center justify-start w-full py-2 px-3 text-xs transition-colors cursor-pointer"
      [class.bg-primary]="activePanel() === tab.id && !tab.isModal"
      [class.text-primary-content]="activePanel() === tab.id && !tab.isModal"
      [class.font-bold]="activePanel() === tab.id && !tab.isModal"
      [style.opacity]="activePanel() === tab.id && !tab.isModal ? 1 : 0.7"
      (click)="onTabClick(tab)"
    >
      <span class="tab-label">{{ tab.label }}</span>
    </button>
  }
</div>

@if (activePanelTemplate(); as tmpl) {
  <div
    class="panel-overlay panel-visible bg-base-100 shadow-xl border-r border-base-300 rounded-r-lg"
  >
    <ng-container [ngTemplateOutlet]="tmpl" />
  </div>
}
