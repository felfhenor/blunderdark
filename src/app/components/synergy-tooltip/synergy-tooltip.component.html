@if (roomData(); as data) {
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body p-4">
      @if (data.active.length > 0) {
        <div class="synergy-section">
          <div class="divider my-2 text-xs text-success">Active Synergies</div>
          @for (synergy of data.active; track synergy.id) {
            <div class="synergy-item active-synergy">
              <div class="flex items-center gap-2 mb-0.5">
                <span class="synergy-dot bg-success"></span>
                <span class="text-xs font-semibold">{{ synergy.name }}</span>
              </div>
              <div class="text-xs opacity-70 ml-4">
                {{ synergy.description }}
              </div>
              <div class="text-xs text-success ml-4 font-medium">
                {{ formatEffect(synergy) }}
              </div>
            </div>
          }
        </div>
      }

      @if (data.potential.length > 0) {
        @if (data.active.length > 0) {
          <div class="divider my-1 h-0"></div>
        }
        <div class="synergy-section">
          <div class="divider my-2 text-xs text-warning">
            Potential Synergies
          </div>
          @for (ps of data.potential; track ps.synergy.id) {
            <div class="synergy-item potential-synergy">
              <div class="flex items-center gap-2 mb-0.5">
                <span class="synergy-dot bg-warning"></span>
                <span class="text-xs font-semibold">{{ ps.synergy.name }}</span>
              </div>
              <div class="text-xs opacity-70 ml-4">
                {{ getPotentialEffect(ps) }}
              </div>
              <div class="text-xs text-warning ml-4">
                @for (
                  cond of ps.missingConditions;
                  track cond;
                  let last = $last
                ) {
                  <span>{{ cond }}</span>
                  @if (!last) {
                    <span>,</span>
                  }
                }
              </div>
            </div>
          }
        </div>
      }
    </div>
  </div>
}
