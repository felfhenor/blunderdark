:host {
  @apply block w-full h-full;
}

.research-container {
  width: 100vw;
  height: calc(100vh - 40px);
}

// --- Node Cards ---

.node-card {
  @apply flex flex-col items-center justify-center gap-1;
  @apply rounded-lg border-2 p-3 cursor-pointer transition-all;
  @apply bg-base-100;
  min-width: 120px;
  max-width: 160px;
  border-color: oklch(var(--bc) / 0.2);

  &:hover {
    @apply shadow-md;
    transform: translateY(-1px);
  }

  &.node-selected {
    @apply ring-2 ring-offset-1;
    ring-color: oklch(var(--p));
  }
}

.node-completed {
  border-color: oklch(var(--su));
  background: oklch(var(--su) / 0.1);
}

.node-active {
  border-color: oklch(var(--in));
  animation: pulse-border 2s ease-in-out infinite;
}

.node-available {
  border-color: oklch(var(--wa));
  background: oklch(var(--wa) / 0.05);
  box-shadow: 0 0 8px oklch(var(--wa) / 0.3);
}

.node-locked {
  @apply opacity-40;
  border-color: oklch(var(--bc) / 0.1);
}

.node-icon {
  @apply text-lg;
}

.node-progress-mini {
  @apply w-full mt-1;

  .progress {
    height: 4px;
  }
}

// --- Tier Layout ---

.tier-group {
  @apply w-full;
}

.tier-connector {
  @apply flex justify-center;

  .connector-line {
    width: 2px;
    height: 16px;
    background: oklch(var(--bc) / 0.2);
  }
}

// --- Animations ---

@keyframes pulse-border {
  0%, 100% {
    border-color: oklch(var(--in));
    box-shadow: 0 0 4px oklch(var(--in) / 0.3);
  }
  50% {
    border-color: oklch(var(--in) / 0.5);
    box-shadow: 0 0 12px oklch(var(--in) / 0.5);
  }
}

// --- Detail Panel ---

.detail-panel {
  background: oklch(var(--b2));
}
